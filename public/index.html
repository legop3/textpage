<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <title>Community text editor</title>
  <link href="/reqs/quill.snow.css" rel="stylesheet" />
  <link rel="stylesheet" href="/reqs/tailwind.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>

  
    .ql-toolbar.ql-snow {
      font-size: 18px;
      position:relative;

    }
  
    .ql-editor {
      /* height: calc(100% - 60px); make room for toolbar */
      font-size: 18px;
      /* padding: 0rem; */
      /* line-height: 1.6; */
      /* height: calc(100% - 60px); */
      /* height: calc(100vh - 150px); */
      /* height: 100%; */
      /* padding-bottom: 4rem; */
      height: auto;
    }
  
    #editor-container {
      /* height: calc(100% - 50px);  */
      /* height */
    }
  </style>
  
</head>





<body class="h-full m-0">

  <div class="flex flex-col h-full">
    <!-- Header / Toolbar -->
    <!-- <div class="bg-gray-200 p-0 w-full" id="user-bar">
       <input type="text" name="" id="username" placeholder="Enter your name" class="border border-gray-300 rounded p-0 w-full max-w-xs" />
       <input type="button" value="Set Username / Login" id="login-button" class="bg-blue-500 text-white rounded p-0 ml-2 cursor-pointer hover:bg-blue-600" />
       <input type="button" value="Current Username: None" id="current-username" class="bg-gray-300 text-black rounded p-0 ml-2" disabled />
       <div id="bar-extras" class="hidden">
        <h1 class="text-lg font-semibold mt-2">Type your username above to create a new user or login</h1>
       </div>
    </div> -->

    <!-- Quill Editor container -->
    <div class="flex-1" id="editor-wrapper">
      <div id="quill-toolbar"></div>
      <div id="editor-container" class="h-max"></div>
    </div>

    <!-- Footer / Status Bar -->
    <div class="flex items-center bg-gray-200 p-2 flex-wrap bottom-0 w-full">

      <div id="connected-status" class="inline-flex items-center justify-center px-3 h-6 rounded-full bg-red-500 text-white text-sm">
        Socket Disconnected
      </div>

      <div id="synced-status" class="inline-flex items-center justify-center px-3 h-6 rounded-full bg-red-500 text-white text-sm">
        Not Synced
      </div>

      <div id="latest-delta" class="inline-flex items-center justify-center px-3 h-6 rounded-full bg-pink-500 text-white text-sm">
        []
      </div>

      <div id="users-online" class="inline-flex items-center justify-center px-3 h-6 rounded-full bg-blue-500 text-white text-sm">
        Users Online: <span id="user-count">0</span>
      </div>
    </div>



  <script>
    function showLogin() {
      const userBar = document.getElementById('user-bar');
      const editorWrapper = document.getElementById('editor-wrapper');
      const barExtras = document.getElementById('bar-extras');
      // show user bar fullscreen
      userBar.classList.add('h-full')
      // userBar.classList.remove('hidden');

      // show help text
      barExtras.classList.remove('hidden');

      // hide editor wrapper
      editorWrapper.classList.add('hidden');

    }

    function hideLogin() {
      const userBar = document.getElementById('user-bar');
      const editorWrapper = document.getElementById('editor-wrapper');
      const barExtras = document.getElementById('bar-extras');

      // hide user bar fullscreen
      userBar.classList.remove('h-full')
      // userBar.classList.add('hidden');

      // hide help text
      barExtras.classList.add('hidden');

      // show editor wrapper
      editorWrapper.classList.remove('hidden');
    }
  </script>

  <script src="/reqs/quill.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script type="module" src="/src/editorMain.mjs"></script>
</body>
</html>
